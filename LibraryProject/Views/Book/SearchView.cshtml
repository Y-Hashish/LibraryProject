@if (ViewBag.BookAuthor != null)

{
    <div class="container">
        <div class="row pt-4 pb-3 ">
            <div class="col-6">
                <h2 class="text-primary">
                    Book Search
                </h2>
            </div>
            <div class="col-6 text-end">
                @* <a style="text-decoration:none; color:azure;" href="/Book/AllBooks">Back to list</a> *@

                <a asp-action="AllBooks" class="btn btn-primary"><i class="bi bi-plus-circle"></i>Back to list</a>
            </div>

        </div>
    </div>

    <table class="table table-bordered table-hover">
        <tr>
            <th>Id</th>
            <th>Title</th>
            <th>Auther</th>
            <th>Status Id</th>
            <th>Kind </th>
            <th colspan="2"> Actions </th>
        </tr>

        @foreach (var book in ViewBag.BookAuthor)

        {

            <tr>
                <td>@book.Id</td>
                <td>@book.Title</td>
                <td>@book.Author</td>
                @if (book.StatusId == 2)

                {
                    <td class="text-danger">Not Available</td>
                }

                else if (book.StatusId == 1)

                {
                    <td class="text-success"> Available</td>
                }
                <td>@book.Kind.Name</td>
                <td>
                    <button class="btn btn-primary mx-2"> <a class="bi bi-pencil-square" href="/Book/Edit/@book.Id">  Edit </a> </button>

                </td>

                <td>

                    <form asp-action="Delete" asp-controller="Book" method="post">
                        <input type="hidden" name="id" value="@book.Id" />
                        <button type="submit" class="btn btn-danger mx-2">Delete</button>
                    </form>
                </td>

            </tr>
        }
    </table>
}



else if (ViewBag.Bookstitle != null)

{
    <h3>Books by this title <strong> @ViewData["TitleName"] </strong> </h3>

    <table class="table table-bordered table-hover">
        <tr>
            <th>Id</th>
            <th>Title</th>
            <th>Auther</th>
            <th>Status Id</th>
            <th>Kind </th>
            <th colspan="2"> Actions </th>
        </tr>

        @foreach (var book in ViewBag.Bookstitle)

        {

            <tr>
                <td>@book.Id</td>
                <td>@book.Title</td>
                <td>@book.Author</td>
                @if (book.StatusId == 2)

                {
                    <td style="background-color:red">Not Available</td>
                }

                else if (book.StatusId == 1)

                {
                    <td style="background-color:lightgreen"> Available</td>
                }
                <td>@book.Kind.Name</td>
                <td>
                    <button class="btn btn-info "> <a style=" text-decoration:none; color:azure; " href="/Book/Edit/@book.Id">  Edit </a> </button>

                </td>

                <td>

                    <form asp-action="Delete" asp-controller="Book" method="post">
                        <input type="hidden" name="id" value="@book.Id" />
                        <button type="submit" class="btn btn-danger">Delete</button>
                    </form>
                </td>

            </tr>
        }
    </table>
}





else if (ViewBag.Message != null)

{
    <p style="color:darkred ; font-size:30px "> <strong>@ViewBag.Message</strong></p>
}